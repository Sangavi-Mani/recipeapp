<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Recipe List</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">

    <h2 class="mb-4">All Recipes</h2>

    <!-- Add Recipe and Add Category Buttons -->
    <div class="mb-3">
        <a href="/recipes/add" class="btn btn-success btn-sm">Add Recipe</a>
        <a href="/categories/add" class="btn btn-info btn-sm">Add Category</a>
    </div>

    <!-- Display All Recipes -->
    <div th:each="recipe : ${recipes}" class="card mb-3 shadow-sm">
        <div class="card-body">
            <h5 class="card-title" th:text="${recipe.name}">Recipe Name</h5>
            <p class="card-text" th:text="${recipe.description}">Description</p>
            <p><strong>Category:</strong> <span th:text="${recipe.category.name}">Category Name</span></p>
            <p><strong>Cooking Time:</strong> <span th:text="${recipe.time}">Time</span> minutes</p>

            <h6>Ingredients:</h6>
            <ul>
                <li th:each="ing : ${recipe.ingredients}" th:text="${ing.name + ' - ' + ing.quantity}"></li>
            </ul>

            <div class="mt-3">
                <a th:href="@{'/recipes/edit/' + ${recipe.id}}" class="btn btn-primary btn-sm">Edit</a>
                &nbsp;&nbsp;&nbsp;
                <a th:href="@{'/recipes/delete/' + ${recipe.id}}"
                   class="btn btn-danger btn-sm"
                   onclick="return confirm('Are you sure you want to delete this recipe?')">Delete</a>
            </div>
        </div>
    </div>

</body>
</html>
